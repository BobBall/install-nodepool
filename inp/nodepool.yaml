script-dir: /home/ubuntu/src/config/modules/openstack_project/files/nodepool/scripts/
dburi: 'mysql://nodepool@localhost/nodepool'

cron:
  cleanup: '*/1 * * * *'
  update-image: '14 2 * * *'

zmq-publishers:
  - tcp://localhost:8888

gearman-servers:
  - host: localhost

providers:
  - name: rax-iad
    region-name: '$OS_REGION_NAME'
    service-type: 'compute'
    service-name: 'cloudServersOpenStack'
    username: '$OS_USERNAME'
    password: '$RACKSPACE_PASSWORD'
    project-id: '$OS_PROJECT_ID'
    auth-url: '$OS_AUTH_URL'
    boot-timeout: 120
    max-servers: 2
    keypair: nodepool
    images:
      - name: '$IMAGE_NAME'
        base-image: '62df001e-87ee-407c-b042-6f4e13f5d7e1'
        min-ram: 8192
        name-filter: 'Performance'
        install: 'install_xenserver.sh'
        install-poll-interval: 10
        install-poll-count: 80
        install-done-stamp: /var/run/xenserver.ready
        launch-poll-interval: 10
        launch-poll-count: 40
        launch-done-stamp: /var/run/xenserver.ready
        setup: 'prepare_node_devstack.sh'
        username: 'jenkins'
        private-key: /home/ubuntu/.ssh/nodepool

targets:
  - name: fake-jenkins
    jenkins:
      url: https://jenkins.example.org/
      user: fake
      apikey: fake
    images:
      - name: '$IMAGE_NAME'
        min-ready: 1
        providers:
          - name: rax-iad
